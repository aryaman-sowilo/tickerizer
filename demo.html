<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tickerizer JavaScript Demo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #34495e;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #3498db;
        }
        
        button {
            background-color: #3498db;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 6px;
            font-weight: bold;
        }
        
        .result.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .result.no-match {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .test-cases {
            margin-top: 40px;
        }
        
        .test-case {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background-color: #f8f9fa;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .test-case:hover {
            background-color: #e9ecef;
        }
        
        .test-input {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .test-result {
            color: #27ae60;
            font-family: monospace;
        }
        
        .console-output {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
            white-space: pre-wrap;
        }
        
        .clear-console {
            margin-top: 10px;
            background-color: #e74c3c;
        }
        
        .clear-console:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Tickerizer JavaScript Demo</h1>
        <p style="text-align: center; color: #7f8c8d; margin-bottom: 30px;">
            Enhanced fuzzy matching for stock ticker lookup with acronym support
        </p>
        
        <div class="input-section">
            <label for="companyInput">Enter Company Name:</label>
            <input type="text" id="companyInput" placeholder="e.g., Cams Services, BLS Internat., Aditya Bir. Fas." />
            <button onclick="findTickerDemo()">Find Ticker</button>
            
            <div id="result"></div>
        </div>
        
        <div class="test-cases">
            <h3>üìã Try These Test Cases:</h3>
            <div class="test-case" onclick="testCase('A B Real Estate')">
                <span class="test-input">A B Real Estate</span>
                <span class="test-result">‚Üí ABREL IN EQUITY</span>
            </div>
            <div class="test-case" onclick="testCase('Cams Services')">
                <span class="test-input">Cams Services</span>
                <span class="test-result">‚Üí CAMS IN EQUITY</span>
            </div>
            <div class="test-case" onclick="testCase('CAMS')">
                <span class="test-input">CAMS</span>
                <span class="test-result">‚Üí CAMS IN EQUITY</span>
            </div>
            <div class="test-case" onclick="testCase('BLS Internat.')">
                <span class="test-input">BLS Internat.</span>
                <span class="test-result">‚Üí BLSIN IN EQUITY</span>
            </div>
            <div class="test-case" onclick="testCase('Aditya Bir. Fas.')">
                <span class="test-input">Aditya Bir. Fas.</span>
                <span class="test-result">‚Üí ABFRL IN EQUITY</span>
            </div>
            <div class="test-case" onclick="testCase('Aditya Birla Cap')">
                <span class="test-input">Aditya Birla Cap</span>
                <span class="test-result">‚Üí ABCAP IN EQUITY</span>
            </div>
        </div>
        
        <div style="margin-top: 30px;">
            <h3>üñ•Ô∏è Console Output:</h3>
            <div id="console" class="console-output">Click "Find Ticker" to see matching process...</div>
            <button class="clear-console" onclick="clearConsole()">Clear Console</button>
        </div>
    </div>

    <script src="tickerizer.js"></script>
    <script>
        // Sample ticker dictionary for demo
        const tickerDict = {
            'Computer Age Management Services Ltd': 'CAMS IN EQUITY',
            'Precision Camshafts Ltd': 'PRECAM IN EQUITY',
            'Aditya Birla Fashion and Retail Ltd': 'ABFRL IN EQUITY',
            'Aditya Birla Capital Ltd': 'ABCAP IN EQUITY',
            'Aditya Birla Real Estate Ltd': 'ABREL IN EQUITY',
            'BLS International Services Ltd': 'BLSIN IN EQUITY',
            'Agarwal Industrial Corp Ltd': 'AGAR IN EQUITY',
            'Apar Industries Ltd': 'APR IN EQUITY',
            'Authum Investment & Infrastructure Ltd': 'AIIL IN EQUITY',
            'LS Industries Ltd': 'LSIL IN EQUITY',
            'Ser Industries Ltd': 'SER IN EQUITY',
            'A-1 Ltd': 'A1L IN EQUITY',
            'Esaar India Ltd': 'ESARI IN EQUITY',
            'Reliance Industries Ltd': 'RELIANCE IN EQUITY',
            'HDFC Bank Ltd': 'HDFCB IN EQUITY',
            'Tata Consultancy Services Ltd': 'TCS IN EQUITY',
            'Infosys Ltd': 'INFO IN EQUITY',
            'ICICI Bank Ltd': 'ICICIBC IN EQUITY'
        };
        
        let consoleOutput = [];
        
        // Override console.log to capture output
        const originalConsoleLog = console.log;
        console.log = function(...args) {
            const message = args.join(' ');
            consoleOutput.push(message);
            updateConsoleDisplay();
            originalConsoleLog.apply(console, args);
        };
        
        function updateConsoleDisplay() {
            const consoleDiv = document.getElementById('console');
            consoleDiv.textContent = consoleOutput.join('\n');
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }
        
        function clearConsole() {
            consoleOutput = [];
            updateConsoleDisplay();
        }
        
        function findTickerDemo() {
            const input = document.getElementById('companyInput').value.trim();
            const resultDiv = document.getElementById('result');
            
            if (!input) {
                resultDiv.innerHTML = '<div class="result no-match">Please enter a company name</div>';
                return;
            }
            
            try {
                const ticker = Tickerizer.findTicker(input, tickerDict);
                
                if (ticker) {
                    resultDiv.innerHTML = `
                        <div class="result success">
                            <strong>Found:</strong> ${input} ‚Üí <strong>${ticker}</strong>
                        </div>
                    `;
                } else {
                    resultDiv.innerHTML = `
                        <div class="result no-match">
                            <strong>No match found</strong> for "${input}"
                        </div>
                    `;
                }
            } catch (error) {
                resultDiv.innerHTML = `
                    <div class="result no-match">
                        <strong>Error:</strong> ${error.message}
                    </div>
                `;
            }
        }
        
        function testCase(companyName) {
            document.getElementById('companyInput').value = companyName;
            findTickerDemo();
        }
        
        // Allow Enter key to trigger search
        document.getElementById('companyInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                findTickerDemo();
            }
        });
        
        // Initial console message
        setTimeout(() => {
            console.log('üéØ Tickerizer JavaScript Demo Ready!');
            console.log('Enter a company name above to test the fuzzy matching algorithm.');
        }, 100);
    </script>
</body>
</html>